:root {
    color-scheme: light;
    --bg-top: #fbf7ef;
    --bg-bottom: #f0ecf9;
    --halo-1: rgba(202, 167, 85, 0.12);
    --halo-2: rgba(174, 183, 201, 0.12);
    --halo-3: rgba(121, 131, 168, 0.1);
    --ink: #2d2923;
    --muted: #7e756c;
    --primary: #caa755;
    --primary-strong: #8c6d1f;
    --accent: #aeb7c9;
    --button-text: #14161c;
    --header-title: #2d2923;
    --nav-text: #2d2923;
    --nav-active-text: #14161c;
    --surface-main: rgba(255, 255, 255, 0.92);
    --surface-subtle: rgba(255, 255, 255, 0.88);
    --surface-card: rgba(255, 255, 255, 0.95);
    --surface-inset: rgba(255, 255, 255, 0.85);
    --border-soft: rgba(202, 167, 85, 0.25);
    --border-strong: rgba(174, 183, 201, 0.35);
    --comment-border: rgba(44, 38, 34, 0.08);
    --input-bg: rgba(255, 255, 255, 0.9);
    --input-focus-bg: #ffffff;
    --focus-ring: rgba(202, 167, 85, 0.22);
    --header-gradient: linear-gradient(115deg, rgba(248, 247, 243, 0.95) 0%, rgba(240, 236, 249, 0.92) 35%, rgba(202, 167, 85, 0.75) 100%);
    --nav-bg: linear-gradient(135deg, rgba(255, 255, 255, 0.82), rgba(240, 236, 249, 0.68));
    --nav-hover-bg: linear-gradient(135deg, rgba(202, 167, 85, 0.78), rgba(240, 236, 249, 0.75));
    --nav-border: rgba(202, 167, 85, 0.4);
    --nav-hover-shadow: rgba(202, 167, 85, 0.45);
    --nav-active-bg: linear-gradient(135deg, rgba(202, 167, 85, 0.88), rgba(174, 183, 201, 0.65));
    --cta-bg: linear-gradient(125deg, rgba(202, 167, 85, 0.9) 0%, rgba(174, 183, 201, 0.75) 100%);
    --cta-shadow: rgba(202, 167, 85, 0.35);
    --shadow: 0 18px 45px -25px rgba(32, 22, 13, 0.35);
    --comment-shadow: 0 14px 35px -26px rgba(32, 32, 32, 0.35);
    --comment-shadow-hover: 0 20px 45px -28px rgba(32, 28, 20, 0.45);
    --button-shadow: rgba(202, 167, 85, 0.3);
    --success-bg: linear-gradient(135deg, rgba(202, 167, 85, 0.18), rgba(174, 183, 201, 0.18));
    --success-border: rgba(202, 167, 85, 0.32);
    --success-text: var(--primary-strong);
    --error-bg: rgba(166, 64, 48, 0.12);
    --error-border: rgba(166, 64, 48, 0.25);
    --error-text: #7d2c1f;
    --radius: 18px;
    --transition: 200ms ease;
}

:root[data-theme='dark'] {
    color-scheme: dark;
    --bg-top: #060607;
    --bg-bottom: #1a1d22;
    --halo-1: rgba(202, 167, 85, 0.14);
    --halo-2: rgba(174, 183, 201, 0.14);
    --halo-3: rgba(114, 120, 136, 0.12);
    --ink: #ece7db;
    --muted: #b0b6c0;
    --primary: #caa755;
    --primary-strong: #a6842d;
    --accent: #aeb7c9;
    --button-text: #14161c;
    --header-title: #f5f1e4;
    --nav-text: #f5f1e4;
    --nav-active-text: #14161c;
    --surface-main: rgba(24, 26, 32, 0.86);
    --surface-subtle: rgba(18, 20, 26, 0.9);
    --surface-card: rgba(21, 23, 30, 0.9);
    --surface-inset: rgba(19, 21, 28, 0.88);
    --border-soft: rgba(202, 167, 85, 0.22);
    --border-strong: rgba(174, 183, 201, 0.25);
    --comment-border: rgba(174, 183, 201, 0.15);
    --input-bg: rgba(24, 26, 32, 0.95);
    --input-focus-bg: rgba(34, 36, 44, 0.95);
    --focus-ring: rgba(202, 167, 85, 0.22);
    --header-gradient: linear-gradient(115deg, rgba(41, 43, 52, 0.92) 0%, rgba(19, 20, 26, 0.9) 35%, rgba(202, 167, 85, 0.75) 100%);
    --nav-bg: linear-gradient(135deg, rgba(41, 43, 52, 0.75), rgba(58, 61, 70, 0.55));
    --nav-hover-bg: linear-gradient(135deg, rgba(202, 167, 85, 0.75), rgba(96, 101, 112, 0.65));
    --nav-border: rgba(202, 167, 85, 0.4);
    --nav-hover-shadow: rgba(202, 167, 85, 0.7);
    --nav-active-bg: linear-gradient(135deg, rgba(202, 167, 85, 0.9), rgba(174, 183, 201, 0.65));
    --cta-bg: linear-gradient(125deg, rgba(202, 167, 85, 0.92) 0%, rgba(174, 183, 201, 0.85) 100%);
    --cta-shadow: rgba(202, 167, 85, 0.55);
    --shadow: 0 24px 55px -32px rgba(0, 0, 0, 0.75);
    --comment-shadow: 0 14px 38px -30px rgba(0, 0, 0, 0.65);
    --comment-shadow-hover: 0 22px 48px -32px rgba(0, 0, 0, 0.7);
    --button-shadow: rgba(202, 167, 85, 0.6);
    --success-bg: linear-gradient(135deg, rgba(202, 167, 85, 0.16), rgba(174, 183, 201, 0.16));
    --success-border: rgba(202, 167, 85, 0.32);
    --success-text: var(--ink);
    --error-bg: rgba(166, 64, 48, 0.18);
    --error-border: rgba(166, 64, 48, 0.35);
    --error-text: #f2c0b4;
}

@media (prefers-color-scheme: dark) {
    :root:not([data-theme]) {
        color-scheme: dark;
        --bg-top: #060607;
        --bg-bottom: #1a1d22;
        --halo-1: rgba(202, 167, 85, 0.14);
        --halo-2: rgba(174, 183, 201, 0.14);
        --halo-3: rgba(114, 120, 136, 0.12);
        --ink: #ece7db;
        --muted: #b0b6c0;
        --primary: #caa755;
        --primary-strong: #a6842d;
        --accent: #aeb7c9;
        --button-text: #14161c;
        --header-title: #f5f1e4;
        --nav-text: #f5f1e4;
        --nav-active-text: #14161c;
        --surface-main: rgba(24, 26, 32, 0.86);
        --surface-subtle: rgba(18, 20, 26, 0.9);
        --surface-card: rgba(21, 23, 30, 0.9);
        --surface-inset: rgba(19, 21, 28, 0.88);
        --border-soft: rgba(202, 167, 85, 0.22);
        --border-strong: rgba(174, 183, 201, 0.25);
        --comment-border: rgba(174, 183, 201, 0.15);
        --input-bg: rgba(24, 26, 32, 0.95);
        --input-focus-bg: rgba(34, 36, 44, 0.95);
        --focus-ring: rgba(202, 167, 85, 0.22);
        --header-gradient: linear-gradient(115deg, rgba(41, 43, 52, 0.92) 0%, rgba(19, 20, 26, 0.9) 35%, rgba(202, 167, 85, 0.75) 100%);
        --nav-bg: linear-gradient(135deg, rgba(41, 43, 52, 0.75), rgba(58, 61, 70, 0.55));
        --nav-hover-bg: linear-gradient(135deg, rgba(202, 167, 85, 0.75), rgba(96, 101, 112, 0.65));
        --nav-border: rgba(202, 167, 85, 0.4);
        --nav-hover-shadow: rgba(202, 167, 85, 0.7);
        --nav-active-bg: linear-gradient(135deg, rgba(202, 167, 85, 0.9), rgba(174, 183, 201, 0.65));
        --cta-bg: linear-gradient(125deg, rgba(202, 167, 85, 0.92) 0%, rgba(174, 183, 201, 0.85) 100%);
        --cta-shadow: rgba(202, 167, 85, 0.55);
        --shadow: 0 24px 55px -32px rgba(0, 0, 0, 0.75);
        --comment-shadow: 0 14px 38px -30px rgba(0, 0, 0, 0.65);
        --comment-shadow-hover: 0 22px 48px -32px rgba(0, 0, 0, 0.7);
        --button-shadow: rgba(202, 167, 85, 0.6);
        --success-bg: linear-gradient(135deg, rgba(202, 167, 85, 0.16), rgba(174, 183, 201, 0.16));
        --success-border: rgba(202, 167, 85, 0.32);
        --success-text: var(--ink);
        --error-bg: rgba(166, 64, 48, 0.18);
        --error-border: rgba(166, 64, 48, 0.35);
        --error-text: #f2c0b4;
    }
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: Trebuchet MS, Segoe UI, sans-serif;
}

body {
    min-height: 100vh;
    color: var(--ink);
    background: radial-gradient(circle at top, var(--halo-1), transparent 45%),
        linear-gradient(180deg, var(--bg-top) 0%, var(--bg-bottom) 100%);
    position: relative;
}

body::before {
    content: "";
    position: fixed;
    inset: 0;
    background: radial-gradient(circle at 18% 18%, var(--halo-1), transparent 50%),
        radial-gradient(circle at 82% 12%, var(--halo-2), transparent 48%),
        radial-gradient(circle at 58% 82%, var(--halo-3), transparent 52%);
    pointer-events: none;
}

.welcome-message {
 text-align: center;
 color: var(--muted);
 font-size: 1.1rem;
 margin: 1.5rem auto 0;
 max-width: 60ch;
}

.header {
 position: sticky;
 top: 0;
 z-index: 10;
 backdrop-filter: blur(6px);
 padding: 2.5rem 1.5rem 2rem;
 margin-bottom: 2rem;
}

.header::before {
    content: "";
    position: absolute;
    inset: 0;
    background: var(--header-gradient);
    transform-origin: top left;
    border-bottom-left-radius: 36px;
    border-bottom-right-radius: 36px;
    box-shadow: 0 30px 60px -45px rgba(28, 16, 64, 0.7);
    z-index: -1;
}

.header h1 {
    text-align: center;
    font-size: clamp(2.2rem, 4vw, 3.4rem);
    letter-spacing: 0.08em;
    text-transform: uppercase;
    color: var(--header-title);
}

.nav {
    margin: 1.5rem auto 0;
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 0.75rem;
    list-style: none;
}

.nav a,
.nav .theme-toggle {
    text-decoration: none;
    color: var(--nav-text);
    padding: 0.55rem 1.4rem;
    border-radius: 999px;
    border: 1px solid var(--nav-border);
    background: var(--nav-bg);
    transition: transform var(--transition), box-shadow var(--transition), background var(--transition), color var(--transition);
    display: inline-flex;
    align-items: center;
    gap: 0.45rem;
    font-size: 1rem;
    cursor: pointer;
}

.nav a:hover,
.nav a:focus,
.nav .theme-toggle:hover,
.nav .theme-toggle:focus {
    transform: translateY(-2px);
    box-shadow: 0 12px 32px -24px var(--nav-hover-shadow);
    background: var(--nav-hover-bg);
    outline: none;
}

.nav a.is-active {
    border-color: rgba(202, 167, 85, 0.85);
    background: var(--nav-active-bg);
    color: var(--nav-active-text);
    font-weight: 600;
}

.theme-toggle {
    border: none;
    background: none;
    padding: 0;
    font: inherit;
}

.theme-toggle__icon {
    position: relative;
    width: 1.2rem;
    height: 1.2rem;
    border-radius: 50%;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.theme-toggle__icon::before {
    content: "";
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: radial-gradient(circle at 30% 30%, rgba(255, 215, 120, 0.9), rgba(202, 167, 85, 0.85));
    box-shadow: 0 0 6px rgba(202, 167, 85, 0.55);
    transition: transform var(--transition), box-shadow var(--transition), background var(--transition);
}

:root[data-theme=dark] .theme-toggle__icon::before {
    background: radial-gradient(circle at 35% 35%, rgba(174, 183, 201, 0.8), rgba(120, 126, 150, 0.9));
    box-shadow: 0 0 6px rgba(174, 183, 201, 0.45);
    transform: translateX(2px);
}

.theme-toggle__label {
    font-weight: 600;
    letter-spacing: 0.03em;
}

.main {
 width: min(960px, 90%);
 margin: 0 auto 3rem;
 padding: 2.5rem;
 background: var(--surface-main);
 border-radius: var(--radius);
 box-shadow: var(--shadow);
 backdrop-filter: blur(4px);
 border: 1px solid var(--border-soft);
}

.main h1 {
 font-size: clamp(1.9rem, 3vw, 2.4rem);
 margin-bottom: 1.5rem;
 color: var(--primary);
 position: relative;
}

.main h1::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: -0.4rem;
    width: 4.5rem;
    height: 4px;
    background: linear-gradient(90deg, var(--primary), var(--accent));
    border-radius: 999px;
}

.main p {
    line-height: 1.6;
    color: var(--ink);
}

.form {
    margin: 2.5rem auto 0;
    padding: 2.25rem;
    border-radius: calc(var(--radius) - 4px);
    background: var(--surface-subtle);
    border: 1px solid var(--border-soft);
    box-shadow: var(--shadow);
    display: grid;
    gap: 1.4rem;
}

.form div {
    display: grid;
    gap: 0.55rem;
}

.form label {
    font-weight: 600;
    color: var(--muted);
    letter-spacing: 0.03em;
}

.form input[type=text],
.form input[type=password],
.form textarea {
    width: 100%;
    border: 1px solid var(--border-strong);
    border-radius: 14px;
    padding: 0.75rem 1rem;
    font-size: 1rem;
    background: var(--input-bg);
    transition: border var(--transition), box-shadow var(--transition), background var(--transition);
    color: var(--ink);
    resize: vertical;
    min-height: 46px;
}

.form textarea {
    min-height: 140px;
}

.form input:focus,
.form textarea:focus {
    border-color: var(--primary);
    box-shadow: 0 0 0 4px var(--focus-ring);
    background: var(--input-focus-bg);
    outline: none;
}

button,
.form button {
    justify-self: flex-start;
    background: var(--cta-bg);
    color: var(--button-text);
    font-weight: 600;
    border: none;
    border-radius: 999px;
    padding: 0.75rem 2.4rem;
    cursor: pointer;
    transition: transform var(--transition), box-shadow var(--transition);
}

button:hover,
.form button:hover,
button:focus,
.form button:focus {
    transform: translateY(-1px) scale(1.01);
    box-shadow: 0 18px 35px -18px var(--button-shadow);
    outline: none;
}

.success-message {
    margin-top: 1.5rem;
    padding: 1rem 1.4rem;
    border-radius: calc(var(--radius) - 8px);
    background: var(--success-bg);
    border: 1px solid var(--success-border);
    color: var(--success-text);
}

.errors {
    margin-top: 1.5rem;
    padding: 1rem 1.4rem;
    border-radius: calc(var(--radius) - 8px);
    background: var(--error-bg);
    border: 1px solid var(--error-border);
    color: var(--error-text);
}

.errors ul {
    list-style: none;
    display: grid;
    gap: 0.5rem;
}

.comment-list {
    list-style: none;
    display: grid;
    gap: 1.5rem;
    margin-top: 2rem;
}

.comment {
    padding: 1.5rem;
    border-radius: calc(var(--radius) - 6px);
    background: var(--surface-card);
    border: 1px solid var(--comment-border);
    box-shadow: var(--comment-shadow);
    transition: transform var(--transition), box-shadow var(--transition);
}

.comment:hover {
    transform: translateY(-2px);
    box-shadow: var(--comment-shadow-hover);
}

.comment p {
    margin-bottom: 0.85rem;
    white-space: pre-wrap;
}

.comment small {
    display: inline-block;
    font-size: 0.85rem;
    color: var(--muted);
    letter-spacing: 0.04em;
}

.welcome-card,
.hero-card {
    padding: 2rem;
    margin: 2rem auto 0;
    border-radius: calc(var(--radius) - 4px);
    background: var(--surface-inset);
    border: 1px dashed var(--border-strong);
    color: var(--ink);
}

.cta-link {
    display: inline-block;
    margin-bottom: 1.8rem;
    padding: 0.65rem 2.2rem;
    border-radius: 999px;
    text-decoration: none;
    background: var(--cta-bg);
    color: var(--button-text);
    font-weight: 600;
    letter-spacing: 0.03em;
    transition: transform var(--transition), box-shadow var(--transition);
}

.cta-link:hover,
.cta-link:focus {
    transform: translateY(-1px);
    box-shadow: 0 18px 40px -20px var(--cta-shadow);
    outline: none;
}

@media (max-width: 720px) {
    .header {
        padding: 2rem 1rem 1.6rem;
    }

    .header::before {
        border-bottom-left-radius: 24px;
        border-bottom-right-radius: 24px;
    }

    .nav {
        gap: 0.5rem;
    }

    .nav a,
    .nav .theme-toggle {
        padding: 0.5rem 1.1rem;
    }

    .main {
        padding: 1.8rem 1.4rem;
    }

    .form {
        padding: 1.8rem 1.4rem;
    }
}